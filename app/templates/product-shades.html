<html>

<head>
    <meta charset="utf-8">
    <link href="/static/css/main.css" rel="stylesheet" charset="utf-8">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
    <div class="s008">
        <div class="topcorner">
            <form class="form-inline global-search">
                <h1>{{output_message}}</h1>
                <br>
            </form>
        </div>

        <div class="inner-form">
            <form id="prod_shade_form" method="GET">
                  <div class="advance-search">
                    <div class="row">
                        <div class="input-field">
                            <div class="input-select">
                                <!-- select product -->
                                <select id ="selectp" data-trigger="" name="selectp choices-single-defaul">
                                    <option placeholder="" value="" disabled selected>"Enter your current product"</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-field">
                            <!-- select shade -->
                            <div class="input-select">
                                <select id ="selects" data-trigger="" name="selects choices-single-defaul">
                                    <option placeholder="" value="" disabled selected>"Enter your current shade"</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row third">
                            <div class="input-field">
                                <div class="result-count">
                                    <button class="btn-delete" id="delete">Reset</button>
                                </div>

                                <script>
                                    var myform = document.getElementById('prod_shade_form');
                                    myform.onsubmit = function () {
                                        var b = String(({{ brand | tojson | safe }}));
                                        document.getElementById("selectp").value = b;
                                        myform.submit();
                                    };
                                </script>

                                <div class="group-btn">
                                    <button type="submit" class="btn btn-search" name="adv-search">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>


        <script>
            p = ({{ products | safe }});
            s = ({{ shades | safe }});

            function populate(product, shade){
                var product = document.getElementById(selectp);
                var shade = document.getElementById(selects);

                product.innerHTML = "";
                shade.innerHTML = "";

            var prodOptions = [];
            var shadeOptions = [];
                
            }
            populate(p,s);
        </script>

        <!-- <div id="productforms">
            <div class="col-xs-6">
                <select class="form-control" name="select1" id="select1">
                    <option value="1">Fruit</option>
                    <option value="2">Animal</option>
                    <option value="3">Bird</option>
                    <option value="4">Car</option>
                </select>
            </div>
            <div class="col-xs-6">
                <select class="form-control" name="select2" id="select2">
                    <option value="1">Banana</option>
                    <option value="1">Apple</option>
                    <option value="1">Orange</option>
                    <option value="2">Wolf</option>
                    <option value="2">Fox</option>
                    <option value="2">Bear</option>
                    <option value="3">Eagle</option>
                    <option value="3">Hawk</option>
                    <option value="4">BWM</option>
                    <option>
                    </option>
                </select>
            </div>
        </div> -->
        <script>
            //Reference: https://jsfiddle.net/fwv18zo1/
            var $select1 = $('#select1'),
                $select2 = $('#select2'),
                $options = $select2.find('option');

            $select1.on('change', function() {
                $select2.html($options.filter('[value="' + this.value + '"]'));
            }).trigger('change');
        </script>
</body>

</html>